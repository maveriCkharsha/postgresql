https://www.interdb.jp/pg/pgsql03.html

PARPE
Parser, Analyser, Rewriter, Planner, Executor

Parser- checks the syntax 
Analyser - runs a semantic analysis of a parse tree generated by the parser and generates a query tree.
Rewriter - The rewriter is the system that realizes the rule system, and transforms a query tree according to the rules stored 
            in the pg_rules system catalog if necessary.
Planner & Executor - The planner receives a query tree from the rewriter and generates a (query) plan tree that can be processed 
by the executor most effectively.

The planner in PostgreSQL is based on pure cost-based optimization; it does not support rule-based optimization and hints. 
